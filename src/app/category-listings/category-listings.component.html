<section class="middle-part category-page">
  <div class="container">
    <div class="row">
     <div class="col-md-12">
      <div class=" product-video-box" id="galleries-list">

        <div
          class=""
          *ngIf="
            showContent &&
            categoriesAllDataCategoryListing &&
            categoriesAllDataCategoryListing.topicDetails &&
            categoriesAllDataCategoryListing?.topicDetails?.length
          "
        >
          <div class="category-padding zoomInDown mb-0">
            <h2>{{ categoriesAllDataCategoryListing.category_name }}</h2>
          </div>
        </div>

        <!-- <ng-image-slider [images]="imageObject" 
                         [imagePopup]="false"
                       [infinite]="false"
                       [autoSlide]="1"
                    [imageSize]="{width: '25%', height: 230}" #nav></ng-image-slider> -->

        
          <div
            *ngIf="
              showContent &&
              categoriesAllDataCategoryListing &&
              categoriesAllDataCategoryListing.topicDetails &&
              categoriesAllDataCategoryListing?.topicDetails?.length
            "
          >
            <div class="wrapper">
              <!-- <div class="main-cate-head text-center">
                <h2>Topics</h2>
              </div>
              <div class="min-category-page">
              <div class="row">
                <div
                  class="col-auto"
                  (click)="showTopic(i)"
                  *ngFor="
                    let slide of categoriesAllDataCategoryListing.topicDetails;
                    let i = index
                  "
                >
                  <a     [ngClass]="{'activea': showCurrentTopic === slide.topic_name}"
                  style="color: #fff">
                    {{ slide.topic_name }} ({{ slide.total_videos }})
                  </a>
                </div>
              </div>
            </div> -->
              <!-- <div class="col-lg-12">
                    <div class="min-category-page topic">
                        <h3>Topic :- {{slide.topic_name }} ({{slide.total_videos }})</h3>
                       
                    </div>
                </div> -->
              <div class="row topic-lists">
                <div  class="col-md-12 mainAll"   [ngClass]="{'mainAll': !noData}" id="{{ i }}"
                 *ngFor="let slide of categoriesAllDataCategoryListing.topicDetails;let i = index">
                  <span>
                    <div class="row justify-content-between align-items-center mb-3" *ngIf="slide.total_videos > 4">

                      <div class="col-auto" *ngIf="showCurrentTopic != ''">
                        <h2 class="category-topic m-0">
                          {{ slide.topic_name }}
                        </h2>
                      </div>


                      <div class="col">

                        <div >

                          <div class="row justify-content-end mb-3">
                         
                            <!-- <div class="col-auto">
                              <form [formGroup]="form">
                                <div class="border-box border-border">
                                  <select
                                    name="languages"
                                    id="lang"
                                    (change)="onChanges($event, i)"
                                  >
                                    <option value="" hidden>Sort</option>
                                    <option value="viewss">
                                      Sort (by views)
                                    </option>
                                    <option value="atoz">
                                      Sort (A-Z title)
                                    </option>
                                  </select>
                                </div>
                              </form>
                            </div> -->
                            <div class="col-auto">
                              <form [formGroup]="form">
                                <div class="border-border">
                                  <div class="dropdown">
                                    <a    target="_self" style="cursor: pointer;" (click)="sort(slide.topic_id)" >Sort</a>
                                    <!-- <button (click)="sort(slide.topic_id)"  >Sort</button> -->
                                    <div style="display:none" class="dropdown-options" id="{{slide.topic_id}}">
                                      <a (click)="onChangess('viewss', i,slide.topic_id)"     [class.a-select] = "viewssSt === true && currentIdTopic ==slide.topic_id"
                                      target="_self" style="cursor: pointer;"> Sort (by views)</a>
                                      <a   (click)="onChangess('atoz', i,slide.topic_id)"     [class.a-select] = "atozSt === true && currentIdTopic ==slide.topic_id"  target="_self" style="cursor: pointer;"> Sort (A-Z title)</a>
                                    </div>
                                  </div>
                                </div>
                              </form>
                            </div>
                            <div class="col-auto">
                              <div class="border-box">
                                <a
                                  target="_self"
                                  style="cursor: pointer"
                                  href=""
                                  routerLink="/video-all/{{ slide.topic_id }}?topic&topic_ids={{ slide.topic_id }}"
                                  >View All ({{ slide.total_videos }})</a
                                >
                              </div>
                            </div>
                          </div>
                        </div>



                        
                      </div>
                    </div>

                    <div style="clear: both"></div>
                    <owl-carousel-o
                      [options]="customOptions"
                      *ngIf="slide.total_videos > 4"
                    >
                      <ng-container
                        class="col-xl-3 col-lg-4 col-md-6"
                        *ngFor="let slides of slide.videos"
                      >
                        <ng-template
                          class="slides rel_position"
                          carouselSlide
                          [id]="slides.id"
                        >
                          <a href="" routerLink="/video/{{ slides.id }}"  class="categ_sect">
                            <div class="thumbnail-box">
                              <img
                                style="object-fit: fill"
                                src="{{ slides.video_thumbnail }}"
                                height="250px"
                                width="100%"
                                alt="product-img"
                              />
                            </div>
                            <div class="thumbnail-title">
                              {{ slides.title }}
                              <span class="thumb_title">{{ slides.title }}</span>
                            </div>
                           
                          </a>
                          <div class="row">
                            <div class="col-6">
                              <div class="sub-title-1">{{ slides.producer }} <span class="produ_hover prod_2">{{ slides.producer }}</span></div>
                            </div>
                            <div class="col-6">
                              <div class="sub-title-2">
                                {{ slides.view_count }} views
                              </div>
                            </div>
                          </div>
                         
                         
                        </ng-template>
                      </ng-container>
                    </owl-carousel-o>

                    <div *ngIf="slide.total_videos <= 4">

                      

                      <div class="row justify-content-between align-items-center mb-3"  *ngIf="slide.total_videos <= 4 && slide.total_videos > 0">

                        <div class="col-auto">
                          <h2 class="category-topic m-0">
                            <!-- {{ showCurrentTopic }} -->
                            {{ slide.topic_name }}
                          </h2>
                        </div>

                        
                        <div class="col">
                          <div class="row justify-content-end mb-3">
                          <div class="col-auto">
                            <form [formGroup]="form">
                              <div class="border-border">
                                <div class="dropdown">
                                  <a    target="_self" style="cursor: pointer;" (click)="sort(slide.topic_id)" >Sort</a>
                                  <!-- <button (click)="sort(slide.topic_id)"  >Sort</button> -->
                                  <div style="display:none" class="dropdown-options" id="{{slide.topic_id}}">
                                    <a (click)="onChangess('viewss', i,slide.topic_id)"    [class.a-select] = "viewssSt === true && currentIdTopic ==slide.topic_id"   target="_self" style="cursor: pointer;"> Sort (by views)</a>
                                    <a   (click)="onChangess('atoz', i,slide.topic_id)"   [class.a-select] = "atozSt === true && currentIdTopic ==slide.topic_id" target="_self" style="cursor: pointer;"> Sort (A-Z title)</a>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>

                          <div class="col-auto">
                            <div class="border-box">
                              <a
                                target="_self"
                                style="cursor: pointer"
                                href=""
                                routerLink="/video-all/{{ slide.topic_id }}?topic&topic_ids={{ slide.topic_id }}"
                                >View All ({{ slide.total_videos }})</a
                              >
                            </div>
                          </div>
                          <!-- <div class="col-auto">
                            <a
                              target="_self"
                              style="cursor: pointer"
                              href=""
                        
                              routerLink="/video-all/{{ slide.topic_id }}?topic&topic_ids={{ slide.topic_id }}"

                              >View All ({{ slide.total_videos }})</a
                            >
                          </div> -->
                   
                        </div> 
                          <!-- <form [formGroup]="form">
                            <div class="border-box border-border">
                              <select
                                name="languages"
                                id="lang"
                                (change)="onChanges($event, i)"
                              >
                                <option value="" hidden>Sort</option>
                                <option value="viewss">Sort (by views)</option>
                                <option value="atoz">Sort (A-Z title)</option>
                              </select>
                            </div>
                          </form> -->
                        </div>
                      </div>

                      <div class="row">
                        <!-- <div class="col-md-12" *ngIf="slide.total_videos == 0">
                          <h3 class="error-msg">No records found</h3>
                        </div> -->
                      <div
                        class="col-xl-3 col-lg-4 col-md-6"
                        *ngFor="let slidess of slide.videos"
                        style="padding-bottom: 30px"
                      >
                        <a href="" routerLink="/video/{{ slidess.id }}">
                          <div class="thumbnail-box">
                            <img
                              style="object-fit: fill"
                              src="{{ slidess.video_thumbnail }}"
                              height="250px"
                              width="100%"
                              alt="product-img"
                            />
                          </div>
                          <div class="thumbnail-title" style="text-transform: none;">{{ slidess.title }}</div>
                        </a>

                        <div class="row">
                          <div class="col-6">
                            <div class="sub-title-1">{{ slidess.producer }}</div>
                          </div>
                          <div class="col-6">
                            <div class="sub-title-2">
                              {{ slidess.view_count }} views
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>

                    </div>
                    
                  </span>
                </div>
                
              </div>
              <div
            class="col-md-12"
            *ngIf="noData"
          >
            <h3 class="error-msg">No matching records found</h3>
          </div>
      
            </div>
          </div>

          
      </div>
    </div>
    </div>
  </div>
  
</section>
  
